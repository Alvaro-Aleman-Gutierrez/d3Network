{"name":"D3network","tagline":"Tools for creating D3 JavaScript directed network graphs from R.","body":"# d3Network\r\n\r\n### [Christopher Gandrud](http://christophergandrud.blogspot.com/p/biocontact.html)\r\n\r\nTools for creating D3 JavaScript directed network graphs from R.\r\n\r\nThis package is in very early beta (but the functions work nicely).\r\n\r\n---\r\n\r\nThis this package contains two key functions that allow you to make interactive directed network graphs in JavaScript with [D3](http://d3js.org/) from R with data stored in data frames:\r\n\r\n- `d3SimpleNetwork`: a limited function that makes it easy to create simple network graphs. To make it very simple, customisability is very limited. See [this post](http://christophergandrud.blogspot.kr/2013/06/quick-and-simple-d3-network-graphs-from.html) for details on how to use it.\r\n\r\n- `d3Network`: this is the main function in the package. It gives you greater control in how you customise your graph (capabilities will be added over time). It also allows you to include the graph in [Slidify](http://slidify.org/) produced or many other HTML slideshows as an iframe.\r\n\r\n\r\n---\r\n\r\n## Example\r\n\r\n<script src=\"http://d3js.org/d3.v2.js?2.9.1\"></script> \r\n<style> \r\n\r\n.link {  \r\nstroke: #666;\r\nopacity: 0.6;\r\nstroke-width: 1.5px; \r\n} \r\n\r\n.node circle { \r\nstroke: #fff; \r\nopacity: 0.6;\r\nstroke-width: 1.5px; \r\n} \r\n\r\ntext { \r\nfont: 7px serif; \r\npointer-events: none; \r\n} \r\n\r\n</style> \r\n\r\n<script> \r\nvar links = [ { \"source\" : \"A\", \"target\" : \"B\" }, { \"source\" : \"A\", \"target\" : \"C\" }, { \"source\" : \"A\", \"target\" : \"D\" }, { \"source\" : \"A\", \"target\" : \"J\" }, { \"source\" : \"B\", \"target\" : \"E\" }, { \"source\" : \"B\", \"target\" : \"F\" }, { \"source\" : \"C\", \"target\" : \"G\" }, { \"source\" : \"C\", \"target\" : \"H\" }, { \"source\" : \"D\", \"target\" : \"I\" } ] ; \r\nvar width = 700 \r\nheight = 400 ; \r\n\r\nvar nodes = {}\r\n\r\n// Compute the distinct nodes from the links.\r\nlinks.forEach(function(link) {\r\nlink.source = nodes[link.source] || \r\n(nodes[link.source] = {name: link.source});\r\nlink.target = nodes[link.target] || \r\n(nodes[link.target] = {name: link.target});\r\nlink.value = +link.value;\r\n});\r\n\r\nvar color = d3.scale.category20();\r\n\r\nvar force = d3.layout.force() \r\n.nodes(d3.values(nodes)) \r\n.links(links) \r\n.size([width, height]) \r\n.linkDistance(80) \r\n.charge(-400) \r\n.on(\"tick\", tick) \r\n.start(); \r\n\r\nvar svg = d3.select(\"body\").append(\"svg\") \r\n.attr(\"width\", width) \r\n.attr(\"height\", height); \r\n\r\nvar link = svg.selectAll(\".link\") \r\n.data(force.links()) \r\n.enter().append(\"line\") \r\n.attr(\"class\", \"link\"); \r\n\r\nvar node = svg.selectAll(\".node\") \r\n.data(force.nodes()) \r\n.enter().append(\"g\") \r\n.attr(\"class\", \"node\") \r\n.on(\"mouseover\", mouseover) \r\n.on(\"mouseout\", mouseout) \r\n.on(\"click\", click)\r\n.on(\"dblclick\", dblclick)\r\n.call(force.drag); \r\n\r\nnode.append(\"circle\") \r\n.attr(\"r\", 8)\r\n.style(\"fill\", function(d) { return color(d.value); });\r\n\r\nnode.append(\"text\") \r\n.attr(\"x\", 12) \r\n.attr(\"dy\", \".35em\") \r\n.style(\"fill\", \"steelblue\")\r\n.text(function(d) { return d.name; }); \r\n\r\nfunction tick() { \r\nlink \r\n.attr(\"x1\", function(d) { return d.source.x; }) \r\n.attr(\"y1\", function(d) { return d.source.y; }) \r\n.attr(\"x2\", function(d) { return d.target.x; }) \r\n.attr(\"y2\", function(d) { return d.target.y; }); \r\n\r\nnode \r\n.attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; }); \r\n} \r\n\r\nfunction mouseover() { \r\nd3.select(this).select(\"circle\").transition() \r\n.duration(750) \r\n.attr(\"r\", 16); \r\n} \r\n\r\nfunction mouseout() { \r\nd3.select(this).select(\"circle\").transition() \r\n.duration(750) \r\n.attr(\"r\", 8); \r\n} \r\n// action to take on mouse click\r\nfunction click() {\r\nd3.select(this).select(\"text\").transition()\r\n.duration(750)\r\n.attr(\"x\", 22)\r\n.style(\"stroke-width\", \".5px\")\r\n.style(\"fill\", \"#E34A33\")\r\n.style(\"font\", \"20px serif\");\r\nd3.select(this).select(\"circle\").transition()\r\n.duration(750)\r\n.style(\"fill\", \"#E34A33\")\r\n.attr(\"r\", 16)\r\n}\r\n\r\n// action to take on mouse double click\r\nfunction dblclick() {\r\nd3.select(this).select(\"circle\").transition()\r\n.duration(750)\r\n.attr(\"r\", 6)\r\n.style(\"fill\", \"#E34A33\");\r\nd3.select(this).select(\"text\").transition()\r\n.duration(750)\r\n.attr(\"x\", 12)\r\n.style(\"stroke\", \"none\")\r\n.style(\"fill\", \"#E34A33\")\r\n.style(\"stroke\", \"none\")\r\n.style(\"font\", \"10px serif\");\r\n}\r\n\r\n</script> \r\n\r\n---\r\n\r\n## Installation\r\n\r\nYou can install *d3Network* using the [devtools](https://github.com/hadley/devtools) package and the following code:\r\n\r\n```\r\ndevtools::install_github(\"d3Network\", \"christophergandrud\")\r\n```\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}